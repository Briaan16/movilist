<ion-header>
  <ion-toolbar style="--background: #f6cc26;">
    <ion-title>RegistrAPP</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="ion-padding">
    <ion-header collapse="condense">
      <ion-toolbar>
        <ion-title size="large">Código QR</ion-title>
      </ion-toolbar>
    </ion-header>

    <div id="qrImage" class="ion-text-center">
      <div class="d-flex-center">
        <div class="d-flex-center qr-wrapper">
          <qr-code [value]="qrText" size="190" errorCorrectionLevel="M"></qr-code>
          <img *ngIf="!qrText" class="qr-placeholder" src="assets/qr.png" alt="codigoqr">
        </div>
      </div>
      <div class="ion-padding-top">
        <!-- Mostrar qrText que contiene el nombre de la asignatura y la fecha -->
        <strong>{{ qrText }}</strong> <br>
      </div>
    </div>

    <!-- Área de texto para ingresar el texto para generar QR -->
    <ion-textarea 
      label="Escribe para convertir en Código QR" 
      labelPlacement="stacked" 
      fill="outline"
      [(ngModel)]="qrText"
      rows="4" 
      [autoGrow]="true" 
      class="ion-margin-top">
    </ion-textarea>

    <ion-button 
      *ngIf="qrText" 
      (click)="captureScreen()" 
      expand="block" 
      class="ion-margin-top"
      color="primary">
      Compartir
      <ion-icon slot="end" name="share-social-outline"></ion-icon>
    </ion-button>

  </div>
</ion-content>
